<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
   <title>Библиотека Tkinter</title>
   <link rel="stylesheet" href="css/xt256.min.css">
   <link rel="stylesheet" href="css/styles.css">
   <script src="css/highlight.min.js"></script>
   <script>hljs.highlightAll();</script>
</head>
<body>

<p><strong><em><a href="index.html">Главная</a></em></strong></p>

<hr />

<h2>21. Виджет Scale</h2>

<p>Виджет шкалы предназначен для того, чтобы позволить пользователю установить некоторое значение <code>int</code> или <code>float</code> в определенном диапазоне. Здесь представлены два виджета шкалы, горизонтальный и вертикальный:</p>

<p><img src="img/twoscales.png" alt="" /></p>

<p>Каждая шкала отображает ползунок <em>(slider)</em>, который пользователь может перетаскивать вдоль желоба <em>(trough)</em>, чтобы изменить значение. На рисунке первый ползунок сейчас находится на отметке -0,38, а второй - на отметке 7.</p>

<ul>
<li><p>Вы можете перетащить ползунок на новое значение с помощью кнопки мыши 1.</p></li>
<li><p>Если вы нажмете кнопку 1 на желобе, ползунок будет перемещаться на один шаг в этом направлении за каждый щелчок. Если удерживать кнопку 1 в желобе, то после некоторой задержки начнется автоповтор.</p></li>
<li><p>Если шкала имеет [фокус клавиатуры] (focus.html), нажатия клавиш "стрелка влево" и "стрелка вверх" перемещают ползунок вверх (для вертикальных шкал) или влево (для горизонтальных шкал). Нажатия клавиш "стрелка вправо" и "стрелка вниз" перемещают ползунок вниз или вправо.</p></li>
</ul>

<p>Чтобы создать новый виджет шкалы в качестве дочернего элемента корневого окна или фрейма с именем <code>parent</code>:</p>

<pre><code>w = tk.Scale(parent, option, ...)
</code></pre>

<p>Конструктор возвращает новый виджет шкалы <code>Scale</code>. Опции:</p>

<p><strong>Таблица 30. Опции виджета Scale</strong></p>

<table>
<thead>
<tr>
  <th></th>
  <th></th>
</tr>
</thead>
<tbody>
<tr>
  <td><code>activebackground</code></td>
  <td>Цвет ползунка при наведении на него мыши. См. <a href="colors.html">Раздел 5.3, "Цвета"</a>.</td>
</tr>
<tr>
  <td><code>bg</code> или <code>background</code></td>
  <td>Фоновый <a href="colors.html">цвет</a> части виджета, находящейся за пределами желоба.</td>
</tr>
<tr>
  <td><code>bd</code> или <code>borderwidth</code></td>
  <td>Ширина 3-мерной границы вокруг желоба и слайдера. По умолчанию - два пикселя. Допустимые значения см. в <a href="dimensions.html">Раздел 5.1, "Размеры"</a>.</td>
</tr>
<tr>
  <td><code>command</code></td>
  <td>Процедура, которая будет вызываться при каждом перемещении ползунка. Этой процедуре будет передан один аргумент - новое значение масштаба. Если ползунок перемещается быстро, вы можете не получить обратный вызов для каждого возможного положения, но вы обязательно получите обратный вызов, когда он установится.</td>
</tr>
<tr>
  <td><code>cursor</code></td>
  <td>Курсор, который появляется при наведении мыши на шкалу. См. раздел <a href="cursors.html">Раздел 5.8, "Курсоры"</a>.</td>
</tr>
<tr>
  <td><code>digits</code></td>
  <td>Способ, которым ваша программа считывает текущее значение, отображаемое в виджете шкалы, - это управляющая переменная; смотрите <a href="control-variables.html">Раздел 52, "Управляющие переменные: значения, скрывающиеся за виджетами"</a>. Управляющая переменная для шкалы может быть <code>IntVar</code>, <code>DoubleVar</code> (для типа <code>float</code>) или <code>StringVar</code>. Если это строковая переменная, параметр <code>digits</code> определяет, сколько цифр использовать при преобразовании числового значения шкалы в строку.</td>
</tr>
<tr>
  <td><code>font</code></td>
  <td>Шрифт, используемый для метки и аннотаций. См. раздел <a href="fonts.html">Раздел 5.4, "Шрифты"</a>.</td>
</tr>
<tr>
  <td><code>fg</code> или <code>foreground</code></td>
  <td><a href="colors.html">Цвет</a> текста, используемого для метки и аннотаций.</td>
</tr>
<tr>
  <td><code>from_</code></td>
  <td>Значение <code>float</code>, определяющее один конец диапазона шкалы. Для вертикальных шкал это верхний конец, для горизонтальных - левый. Подстрочный знак (<code>_</code>) не является опечаткой: поскольку <code>from</code> - зарезервированное слово в Python, эта опция пишется как <code>from_</code>. По умолчанию используется значение 0.0. Другой конец диапазона см. ниже в опции <code>to</code>.</td>
</tr>
<tr>
  <td><code>highlightbackground</code></td>
  <td><a href="colors.html">Цвет</a> выделения фокуса, когда шкала не имеет фокуса. Смотрите <a href="focus.html">Раздел 53, "Фокус: маршрутизация ввода с клавиатуры"</a>.</td>
</tr>
<tr>
  <td><code>highlightcolor</code></td>
  <td><a href="colors.html">Цвет</a> подсветки фокуса, когда шкала имеет <a href="focus.html">фокус</a>.</td>
</tr>
<tr>
  <td><code>highlightthickness</code></td>
  <td>Толщина <a href="focus.html">выделения фокуса</a>. По умолчанию равна 1. Установите <code>highlightthickness=0</code>, чтобы подавить отображение подсветки фокуса.</td>
</tr>
<tr>
  <td><code>label</code></td>
  <td>Вы можете отобразить метку в виджете шкалы, установив этот параметр для текста метки. Метка отображается в левом верхнем углу, если шкала горизонтальная, или в правом верхнем углу, если вертикальная. По умолчанию метка отсутствует.</td>
</tr>
<tr>
  <td><code>length</code></td>
  <td>Длина виджета шкалы. Это размер <em>X</em>, если масштаб горизонтальный, или размер <em>Y</em>, если вертикальный. По умолчанию - 100 пикселей. Допустимые значения см. в <a href="dimensions.html">Раздел 5.1, "Размеры"</a>.</td>
</tr>
<tr>
  <td><code>orient</code></td>
  <td>Установите <code>orient=tk.HORIZONTAL</code>, если вы хотите, чтобы шкала располагалась вдоль оси <em>X</em>, или <code>orient=tk.VERTICAL</code>, чтобы она располагалась параллельно оси <em>Y</em>. По умолчанию - вертикальная.</td>
</tr>
<tr>
  <td><code>relief</code></td>
  <td>При значении по умолчанию <code>relief=tk.FLAT</code> шкала не выделяется на общем фоне. Вы также можете использовать <code>relief=tk.SOLID</code>, чтобы получить сплошную черную рамку вокруг шкалы, или любой другой тип рельефа, описанный в <a href="relief.html">Раздел 5.6, "Стили рельефа"</a>.</td>
</tr>
<tr>
  <td><code>repeatdelay</code></td>
  <td>Эта опция определяет, как долго нужно удерживать кнопку 1 в желобе, прежде чем ползунок начнет повторять движение в этом направлении. По умолчанию <code>repeatdelay=300</code>, а единицы измерения - миллисекунды.</td>
</tr>
<tr>
  <td><code>repeatinterval</code></td>
  <td>Эта опция управляет частотой перемещения ползунка после удержания кнопки 1 в желобе в течение не менее <code>repeatdelay</code> миллисекунд. Например, <code>repeatinterval=100</code> будет перемещать ползунок каждые 100 миллисекунд.</td>
</tr>
<tr>
  <td><code>resolution</code></td>
  <td>Обычно пользователь может изменять значения только в целых единицах. Установите этот параметр в число, чтобы изменить наименьшее приращение значения шкалы. Например, если <code>from_=-1.0</code> и <code>to=1.0</code>, и вы установите <code>resolution=0.5</code>, то шкала будет иметь 5 возможных значений: -1.0, -0.5, 0.0, +0.5 и +1.0. Все меньшие перемещения будут игнорироваться. Используйте <code>resolution=-1</code>, чтобы отключить любое округление значений.</td>
</tr>
<tr>
  <td><code>showvalue</code></td>
  <td>Обычно текущее значение шкалы отображается в текстовом виде рядом с ползунком (над ним для горизонтальных шкал, слева для вертикальных). Установите этот параметр в 0, чтобы отключить эту надпись.</td>
</tr>
<tr>
  <td><code>sliderlength</code></td>
  <td>Обычно ползунок занимает 30 пикселей по длине шкалы. Вы можете изменить эту длину, установив параметр <code>sliderlength</code> на желаемую длину; смотрите <a href="dimensions.html">Раздел 5.1, "Размеры"</a>.</td>
</tr>
<tr>
  <td><code>sliderrelief</code></td>
  <td>По умолчанию ползунок отображается с рельефным стилем <code>tk.RAISED</code>. Для других стилей рельефа установите для этого параметра любое из значений, описанных в <a href="relief.html">Раздел 5.6, "Стили рельефа"</a>.</td>
</tr>
<tr>
  <td><code>state</code></td>
  <td>Обычно виджеты шкалы реагируют на события мыши, а когда у них есть <a href="focus.html">фокус</a>, то и на события клавиатуры. Установите <code>state=tk.DISABLED</code>, чтобы сделать виджет не реагирующим.</td>
</tr>
<tr>
  <td><code>takefocus</code></td>
  <td>Обычно фокус циклически перемещается по виджетам шкалы. Установите этот параметр в 0, если вы не хотите такого поведения. Смотрите <a href="focus.html">Раздел 53, "Фокус: маршрутизация ввода с клавиатуры"</a>.</td>
</tr>
<tr>
  <td><code>tickinterval</code></td>
  <td>Обычно на шкале не отображаются деления. Чтобы отображать периодические значения шкалы, установите этот параметр в число, и деления будут отображаться на кратных значениях. Например, если <code>from_=0.0</code>, <code>to=1.0</code> и <code>tickinterval=0.25</code>, метки будут отображаться вдоль шкалы при значениях 0.0, 0.25, 0.50, 0.75 и 1.00. Эти метки отображаются под шкалой, если она горизонтальная, и слева от нее, если вертикальная. По умолчанию 0, что подавляет отображение делений.</td>
</tr>
<tr>
  <td><code>to</code></td>
  <td>Значение <code>float</code>, определяющее один конец диапазона шкалы; другой конец определяется опцией <code>from_</code>, о которой говорилось выше. Значение <code>to</code> может быть как больше, так и меньше значения <code>from_</code>. Для вертикальных шкал значение <code>to</code> определяет нижнюю часть шкалы; для горизонтальных шкал - правый конец. По умолчанию значение равно 100,0.</td>
</tr>
<tr>
  <td><code>troughcolor</code></td>
  <td><a href="colors.html">Цвет</a> желоба.</td>
</tr>
<tr>
  <td><code>variable</code></td>
  <td>Управляющая переменная для данной шкалы, если таковая имеется; см. <a href="control-variables.html">Раздел 52, "Управляющие переменные: значения, скрытые за виджетами"</a>. Управляющие переменные могут быть из класса <code>IntVar</code>, <code>DoubleVar</code> (для типа <code>float</code>) или <code>StringVar</code>. В последнем случае числовое значение будет преобразовано в строку. Более подробную информацию об этом преобразовании см. выше в описании опции <code>digits</code>.</td>
</tr>
<tr>
  <td><code>width</code></td>
  <td>Ширина желоба виджета. Это размер <em>X</em> для вертикальных масштабов и размер <em>Y</em>, если масштаб имеет <code>orient=tk.HORIZONTAL</code>. По умолчанию 15 пикселей.</td>
</tr>
</tbody>
</table>

<hr />

<p><strong>Для объектов Scale доступны следующие методы:</strong></p>

<p><code>.coords(value=None)</code></p>

<blockquote>
  <p>Возвращает координаты относительно левого верхнего угла виджета, соответствующие заданному значению масштаба. Для <code>value=None</code> вы получаете координаты центра ползунка в его текущем положении. Чтобы узнать, где бы находился ползунок, если бы значение шкалы было установлено на некоторое значение <code>x</code>, используйте <code>value=x</code>.</p>
</blockquote>

<p><code>.get()</code></p>

<blockquote>
  <p>Этот метод возвращает текущее значение шкалы.</p>
</blockquote>

<p><code>.identify(x, y)</code></p>

<blockquote>
  <p>При задании пары координат <code>(x, y)</code> относительно левого верхнего угла виджета этот метод возвращает строку, идентифицирующую, какая функциональная часть виджета находится в этом месте. Возвращаемое значение может быть любым из этих:</p>
</blockquote>

<blockquote>
  <table>
  <thead>
  <tr>
    <th></th>
    <th></th>
  </tr>
  </thead>
  <tbody>
  <tr>
    <td><code>'slider'</code></td>
    <td>Ползунок.</td>
  </tr>
  <tr>
    <td><code>'trough1'</code></td>
    <td>Для горизонтальных шкал - слева от ползунка; для вертикальных шкал - над ползунком.</td>
  </tr>
  <tr>
    <td><code>'trough2'</code></td>
    <td>Для горизонтальных шкал - справа от ползунка; для вертикальных шкал - ниже ползунка.</td>
  </tr>
  <tr>
    <td><code>''</code></td>
    <td>Позиция <code>(x, y)</code> не находится ни на одной из вышеперечисленных частей.</td>
  </tr>
  </tbody>
  </table>
</blockquote>

<p><code>.set(value)</code></p>

<blockquote>
  <p>Устанавливает значение шкалы.</p>
</blockquote>

<hr />

<p><a href="scrollbar.html">&gt;&gt; Виджет Scrollbar</a></p>

</body>
</html>
