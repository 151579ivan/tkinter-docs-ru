<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
   <title>Библиотека Tkinter</title>
   <link rel="stylesheet" href="css/xt256.min.css">
   <link rel="stylesheet" href="css/styles.css">
   <script src="css/highlight.min.js"></script>
   <script>hljs.highlightAll();</script>
</head>
<body>

<p><strong><em><a href="index.html">Главная</a></em></strong></p>

<hr />

<h2>23. Виджет Spinbox</h2>

<p>Виджет <em>Spinbox</em> позволяет пользователю выбирать значения из заданного диапазона. Значения могут быть диапазоном чисел или фиксированным набором строк.</p>

<p><img src="img/spinbox.png" alt="" /></p>

<p>На экране <em>Spinbox</em> имеет область для отображения текущих значений и пару стрелок.</p>

<ul>
<li><p>Пользователь может нажать на стрелку, направленную вверх, чтобы перейти на следующее по порядку более высокое значение. Если значение уже достигло максимума, при желании можно настроить виджет так, чтобы новое значение переходило к самому низкому значению.</p></li>
<li><p>Пользователь может нажать на стрелку, направленную вниз, чтобы перейти к следующему меньшему значению в последовательности. Эта стрелка также может быть настроена на возврат так, что если текущее значение является самым низким, клик по стрелке вниз отобразит самое высокое значение.</p></li>
<li><p>Пользователь также может вводить значения напрямую, обращаясь с виджетом так, как если бы это был <em>Entry</em>. Пользователь может переместить фокус на виджет (см. <a href="focus.html">Раздел 53, "Фокус: маршрутизация ввода с клавиатуры"</a>), либо кликнув по нему, либо используя tab или shift-tab, а затем отредактировать отображаемое значение.</p></li>
</ul>

<p>Чтобы создать новый виджет <em>Spinbox</em> в качестве дочернего элемента корневого окна или фрейма <code>parent</code>:</p>

<pre><code>w = tk.Spinbox(parent, option, ...)
</code></pre>

<p>Конструктор возвращает новый виджет <code>Spinbox</code>. Опции включают:</p>

<p><strong>Таблица 32. Опции виджета Spinbox</strong></p>

<table>
<thead>
<tr>
  <th></th>
  <th></th>
</tr>
</thead>
<tbody>
<tr>
  <td><code>activebackground</code></td>
  <td>Цвет фона при наведении курсора на виджет; см. <a href="colors.html">Раздел 5.3, "Цвета"</a>.</td>
</tr>
<tr>
  <td><code>bg</code> или <code>background</code></td>
  <td>Фоновый <a href="colors.html">цвет</a> виджета.</td>
</tr>
<tr>
  <td><code>bd</code> или <code>borderwidth</code></td>
  <td>Ширина границы вокруг виджета; смотрите <a href="dimensions.html">Раздел 5.1, "Размеры"</a>. Значение по умолчанию - один пиксель.</td>
</tr>
<tr>
  <td><code>buttonbackground</code></td>
  <td>Цвет фона, отображаемый на стрелках. По умолчанию - серый.</td>
</tr>
<tr>
  <td><code>buttoncursor</code></td>
  <td>Курсор, который будет отображаться при наведении мыши на стрелки; смотрите <a href="cursors.html">Раздел 5.8, "Курсоры"</a>.</td>
</tr>
<tr>
  <td><code>buttondownrelief</code></td>
  <td>Стиль рельефа для направленной вниз стрелки; смотрите <a href="relief.html">Раздел 5.6, "Стили рельефа"</a>. По умолчанию используется стиль <code>tk.RAISED</code>.</td>
</tr>
<tr>
  <td><code>buttonup</code></td>
  <td>Стиль рельефа для направленного вверх указателя стрелки; смотрите <a href="relief.html">Раздел 5.6, "Стили рельефа"</a>. По умолчанию используется стиль <code>tk.RAISED</code>.</td>
</tr>
<tr>
  <td><code>command</code></td>
  <td>Используйте эту опцию, чтобы указать функцию или метод, который будет вызываться каждый раз, когда пользователь нажмет на один из указателей стрелок. Обратите внимание, что обратный вызов <em>не</em> вызывается, когда пользователь редактирует значение напрямую, как если бы это был <code>Entry</code>.</td>
</tr>
<tr>
  <td><code>cursor</code></td>
  <td>Выбирает курсор, который отображается при наведении мыши на область ввода виджета; смотрите <a href="cursors.html">Раздел 5.8, "Курсоры"</a>.</td>
</tr>
<tr>
  <td><code>disabledbackground</code><br><code>disabledforeground</code></td>
  <td>Эти опции выбирают цвета фона и переднего плана, отображаемые, когда <code>state</code> виджета имеет значение <code>tk.DISABLED</code>.</td>
</tr>
<tr>
  <td><code>exportselection</code></td>
  <td>Обычно текст в области ввода <em>Spinbox</em> может быть вырезан и вставлен. Чтобы запретить такое поведение, установите опцию <code>exportselection</code> в значение <code>False</code>.</td>
</tr>
<tr>
  <td><code>font</code></td>
  <td>Используйте эту опцию, чтобы выбрать другой шрифт для текста; смотрите <a href="fonts.html">Раздел 5.4, "Шрифты"</a>.</td>
</tr>
<tr>
  <td><code>fg</code> или <code>foreground</code></td>
  <td>Эта опция выбирает цвет, используемый для отображения текста в области ввода виджета, и цвет стрелок.</td>
</tr>
<tr>
  <td><code>format</code></td>
  <td>Используйте эту опцию для управления форматированием числовых значений в сочетании с опциями <code>from_</code> и <code>to</code>. Например, <code>format='%10.4f'</code> отобразит значение в виде десятисимвольного поля с четырьмя цифрами после запятой.</td>
</tr>
<tr>
  <td><code>from_</code></td>
  <td>Используйте эту опцию в сочетании с опцией <code>to</code> (описана ниже), чтобы ограничить значения числовым диапазоном. Например, <code>from_=1</code> и <code>to=9</code> позволят использовать только значения от 1 до 9 включительно. См. также опцию <code>increment</code> ниже.</td>
</tr>
<tr>
  <td><code>highlightbackground</code></td>
  <td><a href="colors.html">Цвет</a> подсветки фокуса, когда <code>Spinbox</code> не имеет фокуса. Смотрите <a href="focus.html">Раздел 53, "Фокус: маршрутизация ввода с клавиатуры"</a>.</td>
</tr>
<tr>
  <td><code>highlightcolor</code></td>
  <td><a href="colors.html">Цвет</a> подсветки фокуса, когда <code>Spinbox</code> имеет <a href="focus.html">фокус</a>.</td>
</tr>
<tr>
  <td><code>highlightthickness</code></td>
  <td>Толщина выделения <a href="focus.html">фокуса</a>. По умолчанию <code>1</code>. Установите значение <code>0</code>, чтобы подавить отображение подсветки фокуса.</td>
</tr>
<tr>
  <td><code>increment</code></td>
  <td>Когда вы ограничиваете значения с помощью опций <code>from_</code> и <code>to</code>, вы можете использовать опцию <code>increment</code>, чтобы указать, насколько увеличивается или уменьшается значение, когда пользователь нажимает на стрелку. Например, с опциями <code>from_=0.0</code>, <code>to=2.0</code> и <code>increment=0.5</code>, стрелка вверх будет проходить через значения 0.0, 0.5, 1.0, 1.5 и 2.0.</td>
</tr>
<tr>
  <td><code>insertbackground</code></td>
  <td>Выбирает <a href="colors.html">цвет</a> курсора вставки, отображаемого в начальной части виджета.</td>
</tr>
<tr>
  <td><code>insertborderwidth</code></td>
  <td>Эта опция управляет шириной границы вокруг курсора вставки. Обычно курсор вставки не имеет границы. Если этот параметр имеет ненулевое значение, курсор вставки будет отображаться в <a href="relief.html">стиле</a> <code>tk.RAISED</code>.</td>
</tr>
<tr>
  <td><code>insertofftime</code><br><code>insertontime</code></td>
  <td>Эти две опции управляют циклом мигания курсора вставки: количеством времени, которое он проводит выключенным и включенным, соответственно, в миллисекундах. Например, при опциях <code>insertofftime=200</code> и <code>insertontime=400</code> курсор будет выключен на 0,2 секунды, а затем включен на 0,4 секунды.</td>
</tr>
<tr>
  <td><code>insertwidth</code></td>
  <td>Используйте этот параметр для указания ширины курсора вставки; возможные значения см. в <a href="dimensions.html">Раздел 5.1, "Размеры"</a>. По умолчанию ширина составляет два пикселя.</td>
</tr>
<tr>
  <td><code>justify</code></td>
  <td>Эта опция управляет положением текста в области ввода виджета. Значения могут быть <code>tk.LEFT</code> для выравнивания текста влево; <code>tk.CENTER</code> для выравнивания по центру; или <code>RIGHT</code> для выравнивания текста вправо.</td>
</tr>
<tr>
  <td><code>readonlybackground</code></td>
  <td>Эта опция задает цвет фона, который будет отображаться, когда <code>state</code> виджета будет <code>'readonly'</code>; смотрите <a href="colors.html">Раздел 5.3, "Цвета"</a>.</td>
</tr>
<tr>
  <td><code>relief</code></td>
  <td>Используйте эту опцию, чтобы выбрать стиль рельефа для виджета; смотрите <a href="relief.html">Раздел 5.6, "Стили рельефа"</a>. По умолчанию используется стиль <code>tk.SUNKEN</code>.</td>
</tr>
<tr>
  <td><code>repeatdelay</code><br><code>repeatinterval</code></td>
  <td>Эти опции определяют поведение автоповтора при нажатии мыши на стрелки; значения указаны в миллисекундах. Значение <code>repeatdelay</code> определяет, как долго нужно удерживать кнопку мыши перед повторением, а <code>repeatinterval</code> - как часто повторяется функция. Значения по умолчанию - 400 и 100 миллисекунд соответственно.</td>
</tr>
<tr>
  <td><code>selectbackground</code></td>
  <td><a href="colors.html">Цвет</a> фона для отображения выделенных элементов.</td>
</tr>
<tr>
  <td><code>selectborderwidth</code></td>
  <td>Ширина границы, отображаемой вокруг выделенных элементов.</td>
</tr>
<tr>
  <td><code>selectforeground</code></td>
  <td><a href="colors.html">Цвет</a> переднего плана для отображения выделенных элементов.</td>
</tr>
<tr>
  <td><code>state</code></td>
  <td>Обычно виджет <em>Spinbox</em> создается в состоянии <code>tk.NORMAL</code>. Установите этот параметр в значение <code>tk.DISABLED</code>, чтобы виджет не реагировал на действия мыши или клавиатуры. Если вы установите значение <code>'readonly'</code>, то значение в начальной части виджета не может быть изменено нажатием клавиш, но значение все еще может быть скопировано в буфер обмена, и виджет все еще реагирует на нажатия на стрелок.</td>
</tr>
<tr>
  <td><code>takefocus</code></td>
  <td>Обычно область ввода виджета <em>Spinbox</em> может иметь фокус (см. <a href="focus.html">Раздел 53, "Фокус: маршрутизация ввода с клавиатуры"</a>). Чтобы удалить виджет из последовательности обхода фокуса, установите <code>takefocus=False</code>.</td>
</tr>
<tr>
  <td><code>textvariable</code></td>
  <td>Если вы хотите получить текущее значение виджета, вы можете использовать метод <code>.get()</code>, описанный ниже, или связать управляющую переменную с виджетом, передав ее в качестве значения этой опции. См. раздел [Раздел 52, "Управляющие переменные: значения, скрывающиеся за виджетами"] (control-variables.html).</td>
</tr>
<tr>
  <td><code>to</code></td>
  <td>Эта опция задает верхнюю границу диапазона значений. См. выше опцию <code>from_</code>, а также опцию <code>increment</code>.</td>
</tr>
<tr>
  <td><code>values</code></td>
  <td>Есть два способа указать возможные значения виджета. Один из них - указать кортеж строк в качестве значения опции <code>values</code>. Например, <code>values=('red', 'blue', 'green')</code> позволит использовать в качестве значений только эти три строки. Чтобы настроить виджет на прием диапазона числовых значений, смотрите опцию <code>from_</code> выше.</td>
</tr>
<tr>
  <td><code>width</code></td>
  <td>Используйте эту опцию, чтобы указать количество символов, допустимых в области ввода виджета. Значение по умолчанию равно 20.</td>
</tr>
<tr>
  <td><code>wrap</code></td>
  <td>Обычно, когда виджет имеет максимальное значение, стрелка вверх ничего не делает, а когда виджет имеет минимальное значение, стрелка вниз ничего не делает. Если вы выберете <code>wrap=True</code>, то стрелка вверх будет двигаться от самого высокого значения к самому низкому, а стрелка вниз - от самого низкого значения к самому высокому.</td>
</tr>
<tr>
  <td><code>xscrollcommand</code></td>
  <td>Используйте эту опцию для подключения полосы прокрутки к области ввода виджета. Подробности см. в <a href="connecting-scrollbars.html">Раздел 22.2, "Подключение Scrollbar к другому виджету"</a>.</td>
</tr>
</tbody>
</table>

<hr />

<p><strong>Эти методы доступны для виджетов Spinbox:</strong></p>

<p><code>.bbox(index)</code></p>

<blockquote>
  <p>Этот метод возвращает ограничивающую рамку символа в позиции <code>index</code> в области ввода виджета. Результатом является кортеж <code>(x, y, w, h)</code>, где значениями являются координаты <code>x</code> и <code>y</code> левого верхнего угла, а также ширина и высота символа в пикселях, в указанном порядке.</p>
</blockquote>

<p><code>.delete(first, last=None)</code></p>

<blockquote>
  <p>Этот метод удаляет символы из области ввода <em>Spinbox</em>. Значения <code>first</code> и <code>last</code> интерпретируются стандартным, для срезов Python, образом.</p>
</blockquote>

<p><code>.get()</code></p>

<blockquote>
  <p>Этот метод возвращает значение <em>Spinbox</em>. Значение всегда возвращается в виде строки, даже если виджет настроен на отображение числа.</p>
</blockquote>

<p><code>.icursor(index)</code></p>

<blockquote>
  <p>Этот метод используется для позиционирования курсора вставки в место, указанное по <code>index</code>, используя стандартное соглашение Python для позиций.</p>
</blockquote>

<p><code>.identify(x, y)</code></p>

<blockquote>
  <p>При задании позиции <code>(x, y)</code> внутри виджета этот метод возвращает строку, описывающую, что находится в этом месте. Значениями могут быть любые из:</p>
</blockquote>

<blockquote>
  <ul>
  <li><code>'entry'</code> для области ввода.</li>
  </ul>
</blockquote>

<blockquote>
  <ul>
  <li><code>'buttonup'</code> для стрелки, направленной вверх.</li>
  </ul>
</blockquote>

<blockquote>
  <ul>
  <li><code>'buttondown'</code> для стрелки, направленной вниз.</li>
  </ul>
</blockquote>

<blockquote>
  <ul>
  <li><code>''</code> (пустая строка), если эти координаты не находятся в пределах виджета.</li>
  </ul>
</blockquote>

<p><code>.index(i)</code></p>

<blockquote>
  <p>Этот метод возвращает числовую позицию индекса <code>i</code>. Аргументами могут быть любые из:</p>
</blockquote>

<blockquote>
  <ul>
  <li><code>tk.END</code> для получения позиции после последнего символа записи.</li>
  </ul>
</blockquote>

<blockquote>
  <ul>
  <li><code>tk.INSERT</code> для получения позиции курсора вставки.</li>
  </ul>
</blockquote>

<blockquote>
  <ul>
  <li><code>tk.ANCHOR</code> для получения позиции якоря выделения.</li>
  </ul>
</blockquote>

<blockquote>
  <ul>
  <li><code>tk.SEL_FIRST</code> для получения позиции начала выделения. Если выделение не находится в пределах виджета, этот метод вызывает исключение <code>tk.TclError</code>.</li>
  </ul>
</blockquote>

<blockquote>
  <ul>
  <li><code>tk.SEL_LAST</code>, чтобы получить позицию сразу после конца выделения. Если выделение не находится в пределах виджета, этот метод вызывает исключение <code>tk.TclError</code>.</li>
  </ul>
</blockquote>

<blockquote>
  <ul>
  <li>Строка вида <code>'@x'</code> обозначает <code>x</code>-координату в пределах виджета. Возвращаемое значение - позиция символа, содержащего эту координату. Если координата вообще находится за пределами виджета, то возвращаемым значением будет позиция символа, ближайшего к этой позиции.</li>
  </ul>
</blockquote>

<p><code>.insert(index, text)</code></p>

<blockquote>
  <p>Этот метод вставляет символы из строки <code>text</code> в позицию, указанную <code>index</code>. Возможные значения индекса см. в методе <code>.index()</code> выше.</p>
</blockquote>

<p><code>.invoke(element)</code></p>

<blockquote>
  <p>Вызовите этот метод, чтобы получить тот же эффект, что и при нажатии пользователем на стрелку. Аргументом <code>element</code> является <code>'buttonup'</code> для стрелки вверх, и <code>'buttondown'</code> для стрелки вниз.</p>
</blockquote>

<p><code>.scan_dragto(x)</code></p>

<blockquote>
  <p>Этот метод работает так же, как и метод <code>.scan_dragto()</code>, описанный в <a href="entry.html">разделе 10, "Виджет Entry"</a>.</p>
</blockquote>

<p><code>.scan_mark(x)</code></p>

<blockquote>
  <p>Этот метод работает так же, как и метод <code>.scan_mark()</code>, описанный в <a href="entry.html">разделе 10, "Виджет Entry"</a>.</p>
</blockquote>

<p><code>.selection('from', index)</code></p>

<blockquote>
  <p>Устанавливает якорь выделения в виджете на позицию, заданную <code>index</code>. Возможные значения <code>index</code> см. в методе <code>.index()</code> выше. Начальное значение якоря выделения равно 0.</p>
</blockquote>

<p><code>.selection('to', index)</code></p>

<blockquote>
  <p>Выбирает текст между якорем выделения и заданным <code>index</code>.</p>
</blockquote>

<p><code>.selection('range', start, end)</code></p>

<blockquote>
  <p>Выделяет текст между индексами <code>start</code> и <code>end</code>. Допустимые значения индексов см. в методе <code>.index()</code> выше.</p>
</blockquote>

<p><code>.selection_clear()</code></p>

<blockquote>
  <p>Очищает выделение.</p>
</blockquote>

<p><code>.selection_get()</code></p>

<blockquote>
  <p>Возвращает выделенный текст. Если в данный момент выделения нет, этот метод вызовет исключение <code>tk.TclError</code>.</p>
</blockquote>

<hr />

<p><strong><em><a href="text.html">&gt;&gt; Виджет Text</a></em></strong></p>

</body>
</html>
