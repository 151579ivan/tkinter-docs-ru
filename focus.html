<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
   <title>Библиотека Tkinter</title>
   <link rel="stylesheet" href="css/xt256.min.css">
   <link rel="stylesheet" href="css/styles.css">
   <script src="css/highlight.min.js"></script>
   <script>hljs.highlightAll();</script>
</head>
<body>

<p><strong><em><a href="index.html">Главная</a></em></strong></p>

<hr />

<h2>53. Фокус: маршрутизация ввода с клавиатуры</h2>

<p>Сказать, что виджет имеет <em>фокус</em>, означает, что ввод с клавиатуры в данный момент направлен на этот виджет.</p>

<ul>
<li><p>Под <em>обходом фокуса</em> мы понимаем последовательность виджетов, которые будут посещены, когда пользователь будет переходить от виджета к виджету с помощью клавиши табуляции. Правила этой последовательности приведены ниже.</p></li>
<li><p>Вы можете перемещаться в обратном направлении с помощью комбинации клавиш <code>Shift-Tab</code>.</p></li>
<li><p>Виджеты <em>Entry</em> и <em>Text</em> предназначены для приема ввода с клавиатуры, и если виджет <em>Entry</em> или <em>Text</em> в данный момент находится в фокусе, то все символы, которые вы введете в него, будут добавлены в его текст. Клавиши редактирования, такие как <code>←</code> и <code>→</code>, будут иметь свои обычные эффекты.</p></li>
<li><p>Поскольку виджеты <em>Text</em> могут содержать символы табуляции, для перемещения фокуса в обход текстового виджета необходимо использовать специальную последовательность клавиш <code>Control-Tab</code>.</p></li>
<li><p>Большинство других типов виджетов обычно посещаются при обходе фокуса, и когда они имеют фокус:</p>

<ul>
<li><p>Виджеты <em>Button</em> можно "нажать", нажав пробел.</p></li>
<li><p>Виджеты <em>Checkbutton</em> можно переключать между установленным и снятым состояниями с помощью пробела.</p></li>
<li><p>В виджетах <em>Listbox</em> клавиши <code>↑</code> и <code>↓</code> прокручивают строку вверх или вниз; клавиши <code>PageUp</code> и <code>PageDown</code> прокручивают страницы; а пробел выбирает текущую строку или снимает ее, если она уже была выбрана.</p></li>
<li><p>Нажатием пробела можно установить виджет <em>Radiobutton</em>.</p></li>
<li><p>Горизонтальные виджеты <em>Scale</em> реагируют на клавиши <code>←</code> и <code>→</code>, а вертикальные - на <code>↑</code> и <code>↓</code>.</p></li>
<li><p>В виджете <em>Scrollbar</em> клавиши <code>PageUp</code> и <code>PageDown</code> перемещают полосу прокрутки по страницам. Клавиши <code>↑</code> и <code>↓</code> перемещают вертикальные полосы прокрутки на единицы (units), а клавиши <code>←</code> и <code>→</code> перемещают горизонтальные полосы прокрутки на единицы.</p></li>
</ul></li>
<li><p>Многие виджеты снабжены контуром, называемым <em>выделением фокуса</em>, который показывает пользователю, какой виджет выделен. Обычно это тонкая черная рамка, расположенная сразу за границей виджета (если таковая имеется). Для виджетов, которые обычно не выделяются (в частности, фреймы, ярлыки и меню), вы можете установить ненулевое значение параметра <code>highlightthickness</code>, чтобы сделать выделение видимым.</p></li>
<li><p>Вы также можете изменить цвет подсветки фокуса с помощью опции <code>highlightcolor</code>.</p></li>
<li><p>Виджеты класса <em>Frame</em>, <em>Label</em> и <em>Menu</em> обычно не посещаются фокусом. Однако вы можете установить для их опции <code>takefocus</code> значение <code>1</code>, чтобы включить их в обход фокуса. Вы также можете исключить любой виджет из обхода фокуса, установив для его опции <code>takefocus</code> значение <code>0</code>.</p></li>
</ul>

<p>Порядок, в котором клавиша табуляции обходит виджеты, следующий:</p>

<ul>
<li><p>Для виджетов, которые являются дочерними виджетами одного родителя, фокус перемещается в том же порядке, в котором виджеты были созданы.</p></li>
<li><p>Для родительских виджетов, содержащих другие виджеты (например, фреймы), фокус сначала посещает родительский виджет (если только его опция <code>takefocus</code> не равна <code>0</code>), а затем рекурсивно посещает дочерние виджеты в порядке их создания.</p></li>
</ul>

<p>Подведем итог: чтобы установить порядок обхода фокуса вашими виджетами, создайте их в этом порядке. Удалите виджеты из порядка обхода, установив их опции <code>takefocus</code> в <code>0</code>, а для тех, чья опция <code>takefocus</code> по умолчанию равна <code>0</code>, установите ее в <code>1</code>, если хотите добавить их в порядок.</p>

<p>Выше описано стандартное функционирование фокуса ввода в Tkinter. Существует и другой, совершенно отличный способ работы с ним - это возможность направить фокус туда, куда перемещается мышь. Для этого обратитесь к методу <code>.tk_focusFollowsMouse()</code> в <a href="universal.html">разделе 26, "Универсальные методы виджетов"</a>.</p>

<p>Вы также можете добавлять, изменять или удалять функции любой клавиши на клавиатуре внутри любого виджета с помощью привязки к событиям. Подробности см. в <a href="events.html">разделе 54, "События"</a>.</p>

<hr />

<p><strong><em><a href="ttk-focus.html">&gt;&gt; Фокус в виджетах ttk</a></em></strong></p>

</body>
</html>
