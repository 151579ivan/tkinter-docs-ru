<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
   <title>Библиотека Tkinter</title>
   <link rel="stylesheet" href="css/xt256.min.css">
   <link rel="stylesheet" href="css/styles.css">
   <script src="css/highlight.min.js"></script>
   <script>hljs.highlightAll();</script>
</head>
<body>

<p><strong><em><a href="index.html">Главная</a></em></strong></p>

<hr />

<h2>22. Виджет Scrollbar</h2>

<p>Некоторые виджеты, такие как <em>Listbox</em> и <em>Canvas</em>, могут использоваться как окна, раздвигающиеся в более широкую виртуальную область. Вы можете подключить к ним виджеты с полосой прокрутки, чтобы дать пользователю возможность перемещать их содержимое относительно экрана. Вот снимок экрана виджета входа со связанным с ним виджетом полосы прокрутки:</p>

<p><img src="img/scrollentry.png" alt="" /></p>

<ul>
<li><p>Полосы прокрутки могут быть горизонтальными, как показано выше, или вертикальными. Виджет, имеющий два прокручиваемых варианта, например, <em>Canvas</em> или <em>Listbox</em>, может иметь как горизонтальную, так и вертикальную полосу прокрутки.</p></li>
<li><p>Ползунок <em>(slider)</em>, - это прямоугольник с рельефным изображением, который показывает текущую позицию прокрутки.</p></li>
<li><p>Две треугольные стрелки <em>(arrowheads)</em> на каждом конце используются для перемещения позиции небольшими шагами. Та, что слева или сверху, называется <code>arrow1</code>, а та, что справа или снизу, называется <code>arrow2</code>.</p></li>
<li><p>Желоб <em>(trough)</em> - это утопленная область, видимая за стрелками и ползунком. Желоб делится на две области, называемые <code>trough1</code> (выше или слева от ползунка) и <code>trough2</code> (ниже или справа от ползунка).</p></li>
<li><p>Размер и положение ползунка относительно длины всего виджета показывают размер и позицию просмотра относительно общего размера. Например, если вертикальная полоса прокрутки связана с <em>Listbox</em>, а ее ползунок занимает от 50 до 75 % высоты полосы прокрутки, это означает, что видимая часть <em>Listbox</em> отображается начиная с отметки половина и заканчивая отметкой три четверти.</p></li>
<li><p>В горизонтальной полосе прокрутки клик по кнопке B1 (кнопка мыши 1) на левой стрелке перемещает вид на небольшую величину влево. Клик по кнопке B1 на правой стрелке перемещает изображение на такую же величину вправо. Для вертикальной полосы прокрутки клик по стрелкам, направленным вверх и вниз, перемещает изображение на небольшую величину вверх или вниз. Чтобы узнать, насколько точно эти действия перемещают виджет, обратитесь к обсуждению соответствующего виджета.</p></li>
<li><p>Пользователь может перетащить ползунок с помощью B1 или B2 (средняя кнопка мыши), чтобы переместить область просмотра.</p></li>
<li><p>Для горизонтальной полосы прокрутки нажатие B1 в желобе слева от ползунка перемещает вид влево на страницу, а нажатие B1 в желобе справа от ползунка перемещает вид на страницу вправо. Для вертикальной полосы прокрутки соответствующие действия перемещают вид на страницу вверх или вниз.</p></li>
<li><p>Щелчок на B2 в любом месте желоба перемещает ползунок так, чтобы его левый или верхний конец находился у мыши или как можно ближе к ней.</p></li>
</ul>

<p><em>Нормализованная позиция</em> полосы прокрутки представляет собой число в замкнутом интервале [0.0, 1.0], определяющем положение ползунка. Для вертикальных полос прокрутки позиция 0.0 находится вверху, а 1.0 - внизу; для горизонтальных полос прокрутки позиция 0.0 находится в левом конце, а 1.0 - в правом.</p>

<p>Чтобы создать новый виджет <em>Scrollbar</em> в качестве дочернего элемента корневого окна или фрейма <code>parent</code>:</p>

<pre><code>w = tk.Scrollbar(parent, option, ...)
</code></pre>

<p>Конструктор возвращает новый виджет <code>Scrollbar</code>. Опции для полос прокрутки включают:</p>

<p><strong>Таблица 31. Опции виджета Scrollbar</strong></p>

<table>
<thead>
<tr>
  <th></th>
  <th></th>
</tr>
</thead>
<tbody>
<tr>
  <td><code>activebackground</code></td>
  <td>Цвет ползунка и стрелок при наведении на них мыши. См. раздел <a href="colors.html">Раздел 5.3, "Цвета"</a>.</td>
</tr>
<tr>
  <td><code>activerelief</code></td>
  <td>По умолчанию ползунок отображается с рельефным стилем <code>tk.RAISED</code>. Используйте эту опцию, чтобы отобразить ползунок с другим <a href="relief.html">рельефным стилем</a> при наведении мыши на ползунок.</td>
</tr>
<tr>
  <td><code>bg</code> или <code>background</code></td>
  <td><a href="colors.html">Цвет</a> ползунка и стрелок, когда мышь не находится над ними.</td>
</tr>
<tr>
  <td><code>bd</code> или <code>borderwidth</code></td>
  <td>Ширина 3-D границ по всему периметру желоба, а также ширина 3-D эффектов на стрелках и ползунке. По умолчанию границы вокруг желоба отсутствуют, а вокруг указателей стрелок и ползунка - двухпиксельные границы. Возможные значения см. в <a href="dimensions.html">Раздел 5.1, "Размеры"</a>.</td>
</tr>
<tr>
  <td><code>command</code></td>
  <td>Процедура, которая будет вызываться при каждом перемещении полосы прокрутки. Последовательность вызова описана в <a href="scrollbar-callback.html">Раздел 22.1, "Обратный вызов команды Scrollbar"</a>.</td>
</tr>
<tr>
  <td><code>cursor</code></td>
  <td>Курсор, который появляется, когда мышь находится над полосой прокрутки. См. раздел <a href="cursors.html">Раздел 5.8, "Курсоры"</a>.</td>
</tr>
<tr>
  <td><code>elementborderwidth</code></td>
  <td>Ширина границ вокруг стрелок и ползунка. По умолчанию <code>elementborderwidth=-1</code>, что означает использование значения опции <code>borderwidth</code>.</td>
</tr>
<tr>
  <td><code>highlightbackground</code></td>
  <td><a href="colors.html">Цвет</a> выделения фокуса, когда полоса прокрутки не имеет фокуса. См. <a href="focus.html">Раздел 53, "Фокус: маршрутизация ввода с клавиатуры"</a>.</td>
</tr>
<tr>
  <td><code>highlightcolor</code></td>
  <td><a href="colors.html">Цвет</a> подсветки фокуса, когда полоса прокрутки имеет <a href="focus.html">фокус</a>.</td>
</tr>
<tr>
  <td><code>highlightthickness</code></td>
  <td>Толщина выделения <a href="focus.html">фокуса</a>. По умолчанию <code>1</code>. Установите значение <code>0</code>, чтобы подавить отображение подсветки фокуса.</td>
</tr>
<tr>
  <td><code>jump</code></td>
  <td>Эта опция управляет тем, что происходит, когда пользователь перетаскивает ползунок. Обычно (<code>jump=0</code>) каждое небольшое перетаскивание ползунка вызывает обратный вызов <code>команды</code>. Если вы установите значение <code>1</code>, обратный вызов не будет вызываться до тех пор, пока пользователь не отпустит кнопку мыши.</td>
</tr>
<tr>
  <td><code>orient</code></td>
  <td>Установите <code>orient=tk.HORIZONTAL</code> для горизонтальной полосы прокрутки, <code>orient=tk.VERTICAL</code> для вертикальной (ориентация по умолчанию).</td>
</tr>
<tr>
  <td><code>relief</code></td>
  <td>Управляет <a href="relief.html">стилем рельефа</a> виджета; по умолчанию используется стиль <code>tk.SUNKEN</code>. Эта опция не имеет эффекта в Windows.</td>
</tr>
<tr>
  <td><code>repeatdelay</code></td>
  <td>Эта опция контролирует, как долго нужно удерживать кнопку 1 в желобе, прежде чем ползунок начнет двигаться в этом направлении повторно. По умолчанию <code>repeatdelay=300</code>, а единицы измерения - миллисекунды.</td>
</tr>
<tr>
  <td><code>repeatinterval</code></td>
  <td>Эта опция определяет, как часто будет повторяться движение ползунка при удержании кнопки 1 в желобе. По умолчанию <code>repeatinterval=100</code>, а единицы измерения - миллисекунды.</td>
</tr>
<tr>
  <td><code>takefocus</code></td>
  <td>Обычно фокус посещает виджет полосы прокрутки; смотрите <a href="focus.html">Раздел 53, "Фокус: маршрутизация ввода с клавиатуры"</a>. Установите <code>takefocus=0</code>, если вы не хотите такого поведения. Привязка клавиш по умолчанию для полос прокрутки позволяет пользователю использовать клавиши со стрелками ← и → для перемещения горизонтальных полос прокрутки, а также клавиши ↑ и ↓ для перемещения вертикальных полос прокрутки.</td>
</tr>
<tr>
  <td><code>troughcolor</code></td>
  <td><a href="colors.html">Цвет</a> желоба.</td>
</tr>
<tr>
  <td><code>width</code></td>
  <td>Ширина полосы прокрутки (по оси Y, если она горизонтальная, и по оси X, если вертикальная). По умолчанию равна 16. Возможные значения см. в <a href="dimensions.html">Раздел 5.1, "Размеры"</a>.</td>
</tr>
</tbody>
</table>

<hr />

<p><strong>Методы для объектов Scrollbar включают:</strong></p>

<p><code>.activate(element=None)</code></p>

<blockquote>
  <p>Если аргумент не указан, этот метод возвращает одну из строк <code>'arrow1'</code>, <code>'arrow2'</code>, <code>'slider'</code> или <code>''</code>, в зависимости от того, где находится мышь. Например, метод возвращает <code>'slider'</code>, если мышь находится на ползунке. Пустая строка возвращается, если мышь в данный момент не находится ни на одном из этих трех элементов управления.</p>
</blockquote>

<blockquote>
  <p>Чтобы выделить один из элементов управления (используя стиль рельефа <code>activerelief</code> и цвет <code>activebackground</code>), вызовите этот метод и передайте строку, идентифицирующую элемент управления, который вы хотите выделить, один из <code>'arrow1'</code>, <code>'arrow2'</code> или <code>'slider'</code>.</p>
</blockquote>

<p><code>.delta(dx, dy)</code></p>

<blockquote>
  <p>Учитывая перемещение мыши на <code>(dx, dy)</code> в пикселях, этот метод возвращает значение <code>float</code>, которое следует добавить к текущему положению ползунка для достижения такого же перемещения. Значение должно находиться в замкнутом интервале [-1.0, 1.0].</p>
</blockquote>

<p><code>.fraction(x, y)</code></p>

<blockquote>
  <p>При задании местоположения пикселя <code>(x, y)</code> этот метод возвращает соответствующее нормализованное положение ползунка в интервале [0.0, 1.0], которое ближе всего к этому местоположению.</p>
</blockquote>

<p><code>.get()</code></p>

<blockquote>
  <p>Возвращает два числа (<code>a</code>, <code>b</code>), описывающие текущее положение ползунка. Значение <code>a</code> определяет положение левого или верхнего края ползунка, для горизонтальной и вертикальной полос прокрутки соответственно; значение <code>b</code> определяет положение правого или нижнего края. Каждое значение находится в интервале [0.0, 1.0], где 0.0 - это крайнее левое или верхнее положение, а 1.0 - крайнее правое или нижнее положение. Например, если ползунок растянут от половины пути до трех четвертей пути по желобу, вы можете получить кортеж (0.5,0.75).</p>
</blockquote>

<p><code>.identify(x, y)</code></p>

<blockquote>
  <p>Этот метод возвращает строку, указывающую, какие (если таковые имеются) компоненты полосы прокрутки находятся под заданными координатами <code>(x, y)</code>. Возвращаемое значение - одно из <code>'arrow1'</code>, <code>'trough1'</code>, <code>'slider'</code>, <code>'trough2'</code>, <code>'arrow2'</code>, или пустая строка <code>''</code>, если это положение не совпадает ни с одним из компонентов полосы прокрутки.</p>
</blockquote>

<p><code>.set(first, last)</code></p>

<blockquote>
  <p>Чтобы подключить скроллбар к другому виджету <code>w</code>, задайте <code>xscrollcommand</code> или <code>yscrollcommand</code> виджета <code>w</code> в методе <code>.set</code> скроллбара. Аргументы имеют то же значение, что и значения, возвращаемые методом <code>.get()</code>. Обратите внимание, что перемещение ползунка полосы прокрутки <em>не</em> приводит к перемещению соответствующего виджета.</p>
</blockquote>

<hr />

<p><strong><em><a href="scrollbar-callback.html">&gt;&gt; Обратный вызов команды Scrollbar</a></em></strong></p>

</body>
</html>
