<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
   <title>Библиотека Tkinter</title>
   <link rel="stylesheet" href="css/xt256.min.css">
   <link rel="stylesheet" href="css/styles.css">
   <script src="css/highlight.min.js"></script>
   <script>hljs.highlightAll();</script>
</head>
<body>

<p><strong><em><a href="index.html">Главная</a></em></strong></p>

<hr />

<h2>27. Стандартизация внешнего вида и база данных опций</h2>

<p>Применять цвета, шрифты и другие параметры к виджетам при их создании очень просто. Однако,</p>

<ul>
<li><p>если вы хотите, чтобы у многих виджетов был одинаковый цвет фона или шрифт, то каждый раз указывать каждый параметр утомительно, и</p></li>
<li><p>хорошо бы дать пользователю возможность заменить ваш выбор своими любимыми цветовыми схемами, шрифтами и другими вариантами.</p></li>
</ul>

<p>Поэтому мы используем идею базы данных опций <em>(option database)</em> для установки значений опций по умолчанию.</p>

<ul>
<li><p>Ваше приложение может указать файл (например, стандартный файл <code>.Xdefaults</code>, используемый в X Window System), который содержит предпочтения пользователя. Вы можете настроить свое приложение так, чтобы оно считывало этот файл и указывало Tkinter использовать эти значения по умолчанию. См. метод <em><a href="universal.html#option_readfile">.option_readfile()</a></em>, выше, в разделе 26, "Методы универсальных виджетов".</p></li>
<li><p>Ваше приложение может напрямую задать значения по умолчанию для одного или многих типов виджетов с помощью метода <em><a href="universal.html#option_add">.option_add()</a></em>; см. этот метод в разделе 26, "Универсальные методы виджетов".</p></li>
</ul>

<p>Прежде чем мы обсудим, как устанавливаются опции, рассмотрим проблему настройки внешнего вида графических интерфейсов в целом. Мы могли бы дать каждому виджету в приложении имя, а затем попросить пользователя указать каждое свойство каждого имени. Но это громоздко, к тому же приложение будет сложно переконфигурировать - если дизайнер добавит новые виджеты, пользователю придется описывать каждое свойство каждого нового виджета.</p>

<p>Поэтому база данных опций позволяет программисту и пользователю задавать общие шаблоны <em>(general patterns)</em>, описывающие, какие виджеты следует конфигурировать.</p>

<p>Эти шаблоны оперируют именами виджетов, но виджеты именуются с помощью <em>двух</em> параллельных схем именования:</p>

<ol>
<li><p>Каждый виджет имеет имя класса <em>(class name)</em>. По умолчанию имя класса совпадает с именем конструктора класса: <code>'Button'</code> для кнопок, <code>'Frame'</code> для рамок и так далее. Однако вы можете создавать новые классы виджетов, обычно наследуя от класса <em>Frame</em>, и давать им новые имена по своему усмотрению. Подробности см. в <a href="new-widget-class.html">Раздел 27.1, "Как назвать класс виджета"</a>.</p></li>
<li><p>Вы также можете дать любому виджету имя экземпляра <em>(instance name)</em>. По умолчанию имя виджета обычно представляет собой бессмысленное число (см. <a href="window-names.html">Раздел 5.11, "Имена окон"</a>). Однако, как и в случае с классами виджетов, вы можете присвоить имя любому виджету. Подробности см. в разделе <a href="naming-widgets.html">Раздел 27.2, "Как присвоить имя экземпляру виджета"</a>.</p></li>
</ol>

<p>Таким образом, каждый виджет в любом приложении имеет две иерархии имен - иерархию имен классов и иерархию имен экземпляров. Например, кнопка, встроенная в текстовый виджет, который сам встроен во фрейм, будет иметь иерархию классов <code>Frame.Text.Button</code>. У нее также может быть иерархия экземпляров, например <code>.mainFrame.messageText.panicButton</code>, если вы дадите такие имена всем экземплярам. Начальная точка обозначает корневое окно; дополнительную информацию об именах путей к окнам см. в <a href="window-names.html">Раздел 5.11, "Имена окон"</a>.</p>

<p>Механизм базы данных опций может использовать как имена классов, так и имена экземпляров при определении опций, поэтому вы можете сделать так, чтобы опции применялись ко всем классам (например, все кнопки имеют синий фон) или к конкретным экземплярам (например, на кнопке " Panic" есть красные буквы). После того как мы рассмотрим, как давать имена классам и экземплярам, в <a href="resource-lines.html">разделе 27.3, "Строки спецификации ресурсов"</a> мы обсудим, как на самом деле работает база данных опций.</p>

<hr />

<p><strong><em><a href="new-widget-class.html">&gt;&gt; Как назвать класс виджета</a></em></strong></p>

</body>
</html>
