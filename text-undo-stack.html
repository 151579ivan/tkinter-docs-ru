<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
   <title>Библиотека Tkinter</title>
   <link rel="stylesheet" href="css/xt256.min.css">
   <link rel="stylesheet" href="css/styles.css">
   <script src="css/highlight.min.js"></script>
   <script>hljs.highlightAll();</script>
</head>
<body>

<p><strong><em><a href="index.html">Главная</a></em></strong></p>

<hr />

<h2>24.7. Стек отмены/возврата виджета Text</h2>

<p>Виджет <em>Text</em> имеет встроенный механизм, позволяющий реализовать операции отмены/возврата, которые могут отменить или восстановить изменения текста внутри виджета.</p>

<p>Вот как работает стек отмены/возврата:</p>

<ul>
<li><p>Каждое изменение содержимого фиксируется путем добавления в стек записей, описывающих это изменение, будь то вставка или удаление. Эти записи записывают как старое состояние содержимого, так и новое: при удалении записывается удаленный текст, при вставке - вставленный текст, а также описание места и того, было ли это вставкой или удалением.</p></li>
<li><p>Ваша программа может также поместить в стек специальную запись, называемую <em>разделителем</em>.</p></li>
<li><p>Операция <em>undo</em> изменяет содержимое виджета на то, каким оно было в какой-то предыдущий момент. Для этого нужно отменить все изменения, помещенные в стек отмены/возврата, пока не будет достигнут разделитель или пока не закончится стек.</p>

<p>Однако обратите внимание, что Tkinter также запоминает, какая часть стека была отменена в операции отмены, пока какая-либо другая операция редактирования не изменит содержимое виджета.</p></li>
<li><p>Операция <em>redo</em> работает только в том случае, если с момента последней операции отмены/возврата не было произведено ни одной операции редактирования. Она повторно применяет все отмененные операции.</p></li>
</ul>

<p>Методы, используемые для реализации стека отмены/возврата, см. в методах <code>.edit_redo</code>, <code>.edit_reset</code>, <code>.edit_separator</code> и <code>.edit_undo</code> в <a href="text-methods.html">Раздел 24.8, "Методы для виджетов Text"</a>. Механизм отмены не включен по умолчанию; вы должны установить опцию <code>undo</code> в виджете.</p>

<hr />

<p><strong><em><a href="text-methods.html">&gt;&gt; Методы для виджетов Text</a></em></strong></p>

</body>
</html>
